<section class="section bg-neutral-100" id="portfolio">
  <div class="container-page">
    <div class="text-center max-w-3xl mx-auto">
      <h2 class="text-4xl font-semibold text-neutral-900">Professional Website Design Portfolio - South African Businesses</h2>
      <p class="mt-4 text-lg text-neutral-600">Professional websites delivered in 48 hours for businesses across South Africa</p>
    </div>
    
    <div class="mt-12" x-data="{
      currentSlide: 0,
      maxSlides: 2,
      getSlidePercentage() {
        if (window.innerWidth < 640) return 100; // Mobile: 1 card
        if (window.innerWidth < 768) return 50;   // Small: 2 cards  
        return 33.333; // Desktop: 3 cards
      },
      getMaxSlides() {
        if (window.innerWidth < 640) return 3; // Mobile: 4 cards total
        if (window.innerWidth < 768) return 2; // Small: 4 cards total
        return 1; // Desktop: 3 cards visible, 4th bleeds
      },
      init() {
        this.maxSlides = this.getMaxSlides();
        window.addEventListener('resize', () => {
          this.maxSlides = this.getMaxSlides();
          if (this.currentSlide > this.maxSlides) {
            this.currentSlide = this.maxSlides;
          }
        });
      }
    }">
      <!-- Carousel Container -->
      <div class="relative overflow-hidden">
        <div 
          class="flex transition-transform duration-800 ease-in-out"
          :style="`transform: translateX(-${currentSlide * getSlidePercentage()}%)`"
        >
          <!-- Portfolio Item 1 - Ecos -->
          <div class="w-full sm:w-1/2 md:w-1/3 flex-shrink-0 px-2 sm:px-3">
            <div class="group">
              <div class="aspect-video rounded-xl overflow-hidden relative">
                <img src="/work/ecos.png" alt="Ecos environmental consulting website design by Rapid Sites South Africa" class="w-full h-full object-cover transition-transform group-hover:scale-110 scale-105" loading="lazy" />
                <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                  <div class="text-center text-white">
                    <div class="text-lg font-semibold">Ecos Consulting</div>
                    <div class="text-sm opacity-90">Environmental</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Portfolio Item 2 - Arabica -->
          <div class="w-full sm:w-1/2 md:w-1/3 flex-shrink-0 px-2 sm:px-3">
            <div class="group">
              <div class="aspect-video rounded-xl overflow-hidden relative">
                <img src="/work/arabica.png" alt="Arabica Coffee Company mobile website design Cape Town South Africa" class="w-full h-full object-cover transition-transform group-hover:scale-105" loading="lazy" />
                <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                  <div class="text-center text-white">
                    <div class="text-lg font-semibold">Arabica Coffee Co.</div>
                    <div class="text-sm opacity-90">Mobile Coffee</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Portfolio Item 3 - Home Plated -->
          <div class="w-full sm:w-1/2 md:w-1/3 flex-shrink-0 px-2 sm:px-3">
            <div class="group">
              <div class="aspect-video rounded-xl overflow-hidden relative">
                <img src="/work/home-plated.png" alt="Home Plated food delivery website design Johannesburg South Africa" class="w-full h-full object-cover transition-transform group-hover:scale-105" loading="lazy" />
                <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                  <div class="text-center text-white">
                    <div class="text-lg font-semibold">Home Plated</div>
                    <div class="text-sm opacity-90">Food Delivery</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Portfolio Item 4 - YourPractiz -->
          <div class="w-full sm:w-1/2 md:w-1/3 flex-shrink-0 px-2 sm:px-3">
            <div class="group">
              <div class="aspect-video rounded-xl overflow-hidden relative">
                <img src="/work/yourpractiz.png" alt="YourPractiz practice management website design Durban South Africa" class="w-full h-full object-cover transition-transform group-hover:scale-105" loading="lazy" />
                <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                  <div class="text-center text-white">
                    <div class="text-lg font-semibold">YourPractiz</div>
                    <div class="text-sm opacity-90">Practice Management</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Navigation Dots -->
      <div class="flex justify-center mt-8 gap-2">
        <template x-for="i in (maxSlides + 1)" :key="i">
          <button 
            @click="currentSlide = i - 1"
            :class="currentSlide === (i - 1) ? 'bg-neutral-900' : 'bg-neutral-300'"
            class="w-3 h-3 rounded-full transition-colors"
          ></button>
        </template>
      </div>
    </div>
  </div>

</section>
