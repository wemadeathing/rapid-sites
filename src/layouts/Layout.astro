---
import '../styles/global.css';
import { ViewTransitions } from 'astro:transitions';
const { title = 'Affordable Web Design South Africa | Fast Business Websites Cape Town | Rapid Sites', description = 'Professional website design for South African businesses in Cape Town, Johannesburg & Durban. Fast 48-hour delivery, mobile-optimized, SEO-ready websites from R7,500. Get more customers online today!' } = Astro.props;
---
<!DOCTYPE html>
<html lang="en" x-data x-cloak>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    
    <!-- Resource Hints for Performance -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//fonts.gstatic.com" />
    <link rel="dns-prefetch" href="//www.googletagmanager.com" />
    <link rel="dns-prefetch" href="//unpkg.com" />
    <link rel="dns-prefetch" href="//i.pravatar.cc" />
    <link rel="preconnect" href="https://unpkg.com" crossorigin />
    <link rel="preconnect" href="https://i.pravatar.cc" crossorigin />
    <!-- Performance Optimizations -->
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#1EBFBF" />
    <meta name="msapplication-TileColor" content="#1EBFBF" />
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/favicon.svg" as="image" type="image/svg+xml" />
    
    <meta name="keywords" content="affordable web design South Africa, business website packages Cape Town, fast website launch SA, hire website designer South Africa, small business websites South Africa, professional website design Cape Town, web development Johannesburg, website design Durban, mobile responsive websites SA, SEO websites South Africa, restaurant websites Cape Town, law firm websites Johannesburg, medical practice websites Durban, startup websites South Africa, SME websites Cape Town, business websites Johannesburg, professional web design Durban, fast website development SA, affordable website design Cape Town, mobile-first websites South Africa, Google-ready websites SA, lead generation websites South Africa, conversion-focused websites Cape Town, business online presence Johannesburg, website launch 48 hours SA" />
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="stCaKMdq0VrqfuZ2IoR7XPlgZkfrIc7SnXvvk5pzrLQ" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://rapidsites.co.za/" />
    <meta property="og:title" content="Affordable Web Design South Africa | Fast Business Websites Cape Town" />
    <meta property="og:description" content="Professional website design for South African businesses in Cape Town, Johannesburg & Durban. Fast 48-hour delivery, mobile-optimized, SEO-ready websites from R7,500. Get more customers online today!" />
    <meta property="og:image" content="https://rapidsites.co.za/og-image.jpg" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://rapidsites.co.za/" />
    <meta property="twitter:title" content="Affordable Web Design South Africa | Fast Business Websites Cape Town" />
    <meta property="twitter:description" content="Professional website design for South African businesses in Cape Town, Johannesburg & Durban. Fast 48-hour delivery, mobile-optimized, SEO-ready websites from R7,500. Get more customers online today!" />
    <meta property="twitter:image" content="https://rapidsites.co.za/og-image.jpg" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" href="/rapid-sites-favicon.png" />
    <link rel="apple-touch-icon" href="/rapid-sites-icon.png" />
    
    <!-- Fonts - Optimized for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- Preload critical font files -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Funnel+Display:wght@400;500;600;700;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript><link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Funnel+Display:wght@400;500;600;700;800&display=swap" rel="stylesheet" /></noscript>
    
    		<!-- Google Analytics 4 - Optimized Loading -->
		<link rel="preconnect" href="https://www.googletagmanager.com">
		<script is:inline>
			// Defer GA loading for better performance
			window.addEventListener('load', function() {
				const script = document.createElement('script');
				script.async = true;
				script.src = 'https://www.googletagmanager.com/gtag/js?id=G-KFV950WVL0';
				document.head.appendChild(script);
				
				window.dataLayer = window.dataLayer || [];
				function gtag(){window.dataLayer.push(arguments);}
				gtag('js', new Date());
				gtag('config', 'G-KFV950WVL0');
			});
		</script>
    
    <!-- Alpine.js - Preloaded for Performance -->
    <link rel="preload" href="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" as="script">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://rapidsites.co.za/#organization",
          "name": "Rapid Sites",
          "url": "https://rapidsites.co.za",
          "logo": {
            "@type": "ImageObject",
            "url": "https://rapidsites.co.za/rapid-sites-logo.png"
          },
          "description": "Professional website design for South African businesses in Cape Town, Johannesburg & Durban. 48-hour delivery, mobile-optimized, SEO-ready websites.",
          "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+27-61-463-1005",
            "contactType": "customer service",
            "email": "hello@rapidsites.co.za"
          },
          "areaServed": [
            {
              "@type": "Country",
              "name": "South Africa"
            },
            {
              "@type": "City",
              "name": "Cape Town"
            },
            {
              "@type": "City", 
              "name": "Johannesburg"
            },
            {
              "@type": "City",
              "name": "Durban"
            }
          ]
        },
        {
          "@type": "LocalBusiness",
          "@id": "https://rapidsites.co.za/#localbusiness",
          "name": "Rapid Sites",
          "image": "https://rapidsites.co.za/rapid-sites-logo.png",
          "description": "Professional website design for South African businesses. From R7,500 total investment, 48-hour delivery.",
          "url": "https://rapidsites.co.za",
          "telephone": "+27-61-463-1005",
          "email": "hello@rapidsites.co.za",
          "priceRange": "R7500",
          "address": {
            "@type": "PostalAddress",
            "addressCountry": "ZA",
            "addressRegion": "Western Cape"
          },
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": "-33.9249",
            "longitude": "18.4241"
          },
          "openingHours": "Mo-Fr 09:00-17:00",
          "sameAs": [
            "https://wa.me/27614631005"
          ]
        },
        {
          "@type": "Service",
          "@id": "https://rapidsites.co.za/#service",
          "name": "Professional Website Design",
          "description": "Professional website design and development for South African businesses. Mobile-optimized, SEO-ready websites delivered in 48 hours.",
          "provider": {
            "@id": "https://rapidsites.co.za/#organization"
          },
          "areaServed": [
            {
              "@type": "Country",
              "name": "South Africa"
            }
          ],
          "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Website Design Services",
            "itemListElement": [
              {
                "@type": "Offer",
                "itemOffered": {
                  "@type": "Service",
                  "name": "Professional Website Development",
                  "description": "Complete website design and development with mobile optimization and SEO"
                },
                "price": "7500",
                "priceCurrency": "ZAR",
                "availability": "https://schema.org/InStock"
              }
            ]
          }
        }
      ]
    }
    </script>

    <style> 
      :root { 
        --font-sans: 'Plus Jakarta Sans', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
        --font-display: 'Funnel Display', 'Plus Jakarta Sans', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
      } 
      body { font-family: var(--font-sans); } 
      h1, h2, h3, h4, h5, h6 { font-family: var(--font-display); }
      [x-cloak] { display: none !important; }

/* N8N Chat styling moved to N8nChatWidget.astro with is:global to ensure build inclusion */
    </style>
    <slot name="head" />
    <ViewTransitions />
  </head>
  <body class="min-h-dvh">
    <slot />
  </body>
</html>
